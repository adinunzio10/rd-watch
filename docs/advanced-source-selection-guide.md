# Advanced Source Selection System - User Guide

## Overview

The Advanced Source Selection System provides intelligent, comprehensive source analysis and filtering for the best streaming experience on Android TV. This system automatically analyzes streaming sources for quality, health, reliability, and compatibility to help you find the perfect content source.

## Key Features

### üéØ Smart Source Recommendations
- **Intelligent Ranking**: Sources are automatically ranked based on quality, health, and your preferences
- **Instant Playback Priority**: Cached sources are prioritized for immediate streaming
- **Personalized Suggestions**: Recommendations adapt to your viewing patterns and device capabilities

### üîç Advanced Filtering
- **Quality Filters**: Filter by resolution (4K, 1080p, 720p), HDR support, bitrate, and frame rate
- **Source Type Filters**: Choose between cached sources, P2P torrents, direct links, and debrid services
- **Health Filters**: Filter P2P sources by seeders, leechers, availability, and download health
- **Audio/Video Filters**: Filter by codecs (H.265, AV1), audio formats (Dolby Atmos, DTS:X)
- **Release Type Filters**: Choose specific release types (REMUX, BluRay, WEB-DL, etc.)

### üìä Health Monitoring
- **P2P Health Scores**: Real-time analysis of torrent health with seeder/leecher ratios
- **Reliability Predictions**: Machine learning algorithms predict download success probability
- **Risk Assessment**: Comprehensive analysis of potential download issues
- **Provider Reliability**: Track and score provider performance over time

### üé¨ Season Pack Detection
- **Automatic Recognition**: Intelligent detection of complete season packs
- **Completeness Analysis**: Shows which episodes are included in season packs
- **Multi-Season Support**: Detects complete series and season ranges
- **Quality Assessment**: Season packs receive enhanced quality scores for sorting

### üè∑Ô∏è Enhanced Quality Badges
- **Visual Quality Indicators**: Color-coded badges for quick quality assessment
- **HDR Type Indicators**: Specific badges for HDR10, HDR10+, and Dolby Vision
- **Audio Format Badges**: Indicates premium audio formats like Dolby Atmos
- **Health Status Badges**: Visual indicators for P2P source health
- **Feature Badges**: Shows special features like cached availability

## How to Use

### Basic Source Selection

1. **Navigate to Content Details**: Open any movie or TV show details page
2. **View Sources**: The system automatically loads and analyzes available sources
3. **Review Recommendations**: Top-ranked sources appear first with quality indicators
4. **Select Source**: Choose your preferred source and start streaming

### Using Filters

#### Quick Filter Presets
- **Quality Focused**: Prioritizes 4K HDR content with best codecs
- **Android TV Optimized**: Cached sources with moderate file sizes
- **Bandwidth Constrained**: Smaller files suitable for slower connections
- **P2P Optimized**: High-seeder torrents from trusted release groups
- **Instant Playback**: Only cached/debrid sources for immediate streaming

#### Custom Filtering
1. **Access Filter Panel**: Tap the filter icon in the source selection interface
2. **Choose Categories**: Select from quality, source type, health, and other filters
3. **Set Criteria**: Adjust sliders and toggles for your preferences
4. **Apply Filters**: Sources update automatically as you adjust filters
5. **Save Presets**: Save custom filter combinations for future use

### Understanding Quality Badges

#### Resolution Badges
- **8K** (Red): Ultra-high resolution content
- **4K** (Purple): 4K Ultra HD content
- **1440p** (Violet): 2K/Quad HD content
- **1080p** (Blue): Full HD content
- **720p** (Green): HD content

#### HDR Badges
- **DV** (Black): Dolby Vision HDR
- **HDR10+** (Dark Blue): HDR10+ dynamic metadata
- **HDR10** (Blue): Standard HDR10

#### Audio Badges
- **Atmos** (Black): Dolby Atmos surround sound
- **DTS:X** (Dark Gray): DTS:X object-based audio
- **TrueHD** (Orange): Dolby TrueHD lossless audio
- **DTS-HD** (Orange): DTS-HD Master Audio

#### Health Badges (P2P Sources)
- **Green (1000+)**: Excellent health with many seeders
- **Light Green (500+)**: Good health, reliable download
- **Orange (100+)**: Fair health, may be slower
- **Red (<100)**: Poor health, potential issues

### Season Pack Features

#### Identification
- Season packs are automatically detected and labeled
- Completeness percentage shows how much of the season is included
- Multi-season packs show season ranges (e.g., "Seasons 1-3")

#### Benefits
- **Storage Efficiency**: Download entire seasons in one operation
- **Consistent Quality**: Uniform encoding across all episodes
- **Better Organization**: Keep seasons together
- **Enhanced Scores**: Season packs receive priority in rankings

### Health Monitoring

#### Understanding Health Scores
- **90-100**: Excellent health, fast and reliable
- **70-89**: Good health, reliable with good speeds
- **50-69**: Fair health, acceptable but may be slower
- **30-49**: Poor health, potential issues
- **0-29**: Very poor health, avoid if alternatives exist

#### Health Factors
- **Seeders**: Number of users sharing the complete file
- **Leechers**: Number of users downloading
- **Availability**: Percentage of file available across the swarm
- **Age**: How long the torrent has been active
- **Success Rate**: Historical download success for this source

### Advanced Features

#### Recommendation Engine
The system learns from your selections and provides personalized recommendations:
- **Quality Preferences**: Adapts to your preferred resolutions and formats
- **Connection Speed**: Considers your network capabilities
- **Storage Space**: Accounts for available device storage
- **Viewing Patterns**: Learns from your content choices

#### Performance Optimization
- **Android TV Optimization**: Optimized for TV hardware and remote control navigation
- **Batch Processing**: Efficiently handles large numbers of sources
- **Smart Caching**: Reduces processing time for frequently accessed content
- **Background Updates**: Health information updates in the background

## Tips for Best Results

### Optimal Configuration
1. **Set Preferences**: Configure your preferred quality, audio, and size preferences
2. **Enable Debrid**: Connect debrid services for instant cached access
3. **Regular Updates**: Allow the system to update health information regularly
4. **Feedback**: Your source selections help improve future recommendations

### Troubleshooting

#### No Sources Found
- Check your internet connection
- Verify scraper configurations
- Try different content or search terms
- Clear cache and refresh

#### Slow Source Loading
- Enable Android TV optimization
- Reduce concurrent processing in settings
- Clear old cached data
- Check device performance settings

#### Poor Quality Sources
- Adjust minimum quality filters
- Enable trusted provider filtering
- Increase minimum health thresholds
- Try different content search terms

## Privacy and Security

### Data Protection
- Health and preference data is stored locally on your device
- No personal viewing data is transmitted to external servers
- Source analysis is performed locally for privacy

### Security Features
- Automatic risk assessment helps avoid malicious sources
- Provider reputation system identifies trusted sources
- Health monitoring detects potentially problematic downloads

## Performance Information

### System Requirements
- **Memory**: 5-10MB additional usage during active analysis
- **Processing**: Optimized for Android TV hardware limitations
- **Storage**: Minimal local storage for caching health data
- **Network**: Benefits from stable internet for real-time health updates

### Performance Targets
- **Source Analysis**: <50ms per source
- **Batch Processing**: <200ms for 50 sources
- **Filter Application**: <100ms for 200 sources
- **Cache Retrieval**: <1ms for cached data

## Future Features

### Planned Enhancements
- **Machine Learning**: Enhanced prediction algorithms with user feedback
- **Cross-Device Sync**: Preferences and health data across devices
- **Community Ratings**: Crowdsourced quality and reliability ratings
- **Advanced Analytics**: Detailed insights into your streaming patterns
- **Custom Filter Builder**: Create complex custom filters
- **Network Optimization**: ISP and connection-specific optimizations

This advanced system is designed to make finding high-quality streaming sources effortless while providing the control and information you need for the best viewing experience.